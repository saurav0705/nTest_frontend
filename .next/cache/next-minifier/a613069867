{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{\"1WlT\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/questionWithAnswers\",function(){return n(\"PKUX\")}])},\"9Jkg\":function(e,t,n){e.exports=n(\"oh+g\")},K64n:function(e,t,n){\"use strict\";t.Headers=self.Headers,t.Request=self.Request,t.Response=self.Response,t.fetch=self.fetch},LpSC:function(e,t,n){n(\"K64n\"),e.exports=self.fetch.bind(self)},PKUX:function(e,t,n){\"use strict\";n.r(t);var s=n(\"9Jkg\"),a=n.n(s),r=n(\"ln6h\"),o=n.n(r),i=n(\"0iUn\"),u=n(\"sLSF\"),c=n(\"MI3g\"),l=n(\"a7VT\"),d=n(\"AT/M\"),h=n(\"Tit0\"),p=n(\"q1tI\"),w=n.n(p),f=n(\"w5m4\"),m=n(\"bBHx\"),b=n(\"LpSC\"),g=n.n(b),v=n(\"TdDX\"),x=n.n(v),k=n(\"nOHt\"),y=n.n(k),N=w.a.createElement,q=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(l.a)(t).call(this))).state={question:{},answers:[],loggedIn:!1,objId:\"\",form:!1,quesbox:\"\"},e.handleChange=e.handleChange.bind(Object(d.a)(e)),e}return Object(h.a)(t,e),Object(u.a)(t,[{key:\"handleChange\",value:function(e){this.setState({quesbox:e.target.value})}},{key:\"componentDidMount\",value:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.a.get(\"loggedIn\")){e.next=3;break}return e.next=3,o.a.awrap(this.setState({loggedIn:!0}));case 3:this.show();case 4:case\"end\":return e.stop()}}),null,this)}},{key:\"upvote\",value:function(e){var t,n;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=\"https://questionstack-266907.appspot.com//answers/\"+e+\"/upvote\",s.prev=1,s.next=4,o.a.awrap(g()(t,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\",Authorization:\"bearer \"+x.a.get(\"token\")}}));case 4:if(!(n=s.sent).ok){s.next=12;break}return s.next=8,o.a.awrap(n.json());case 8:s.sent,this.componentDidMount(),s.next=13;break;case 12:alert(\"unable to fetch\");case 13:s.next=19;break;case 15:throw s.prev=15,s.t0=s.catch(1),console.error(\"You have an error in your code or there are Network issues.\",s.t0),new Error(s.t0);case 19:case\"end\":return s.stop()}}),null,this,[[1,15]])}},{key:\"downvote\",value:function(e){var t,n;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=\"https://questionstack-266907.appspot.com//answers/\"+e+\"/downvote\",s.prev=1,s.next=4,o.a.awrap(g()(t,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\",Authorization:\"bearer \"+x.a.get(\"token\")}}));case 4:if(!(n=s.sent).ok){s.next=12;break}return s.next=8,o.a.awrap(n.json());case 8:s.sent,this.componentDidMount(),s.next=13;break;case 12:alert(\"unable to fetch\");case 13:s.next=19;break;case 15:throw s.prev=15,s.t0=s.catch(1),console.error(\"You have an error in your code or there are Network issues.\",s.t0),new Error(s.t0);case 19:case\"end\":return s.stop()}}),null,this,[[1,15]])}},{key:\"show\",value:function(){var e=this;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(g()(\"https://questionstack-266907.appspot.com//questions/\"+x.a.get(\"obj_id\")).then((function(e){return e.json()})).then((function(t){t.question&&(e.setState({question:t.question}),e.state.question.answers&&e.setState({answers:e.state.question.answers})),e.setState({objId:x.a.get(\"obj_id\")})})));case 2:case\"end\":return t.stop()}}))}},{key:\"submitanswer\",value:function(){var e,t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=\"https://questionstack-266907.appspot.com//questions/\"+this.state.objId+\"/answer\",n.prev=1,n.next=4,o.a.awrap(g()(e,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Access-Control-Allow-Origin\":\"*\",Authorization:\"bearer \"+x.a.get(\"token\")},body:a()({answer:this.state.quesbox})}));case 4:if(!(t=n.sent).ok){n.next=13;break}return n.next=8,o.a.awrap(t.json());case 8:n.sent,this.toggleBox(),this.componentDidMount(),n.next=17;break;case 13:alert(\"your Session expired\"),localStorage.setItem(\"token\",\"\"),localStorage.setItem(\"loggedIn\",!1),y.a.push(\"/\");case 17:n.next=23;break;case 19:throw n.prev=19,n.t0=n.catch(1),console.error(\"You have an error in your code or there are Network issues.\",n.t0),new Error(n.t0);case 23:case\"end\":return n.stop()}}),null,this,[[1,19]])}},{key:\"renderAnswer\",value:function(){var e=this;return this.state.answers&&this.state.answers.length>0?N(\"div\",null,this.state.answers.map((function(t){return N(\"div\",{key:t._id,className:\"flex justify-center bg-green-300 p-4 m-4\"},N(\"div\",{className:\"block md:flex justify-center w-full\"},N(\"div\",null,N(\"center\",null,N(\"img\",{src:m.urlOfImages.answer,className:\"h-6 mt-5\"}))),N(\"div\",{className:\"p-1 w-auto text-4m md:text-2xl\"},N(\"span\",{className:\"ml-2\"},t.answer),N(\"div\",{className:\"text-right text-gray-500\"},\"-- \",t.author.name)),N(\"div\",{className:e.state.loggedIn?\"block p-6\":\"hidden p-6\"},N(\"button\",{onClick:function(){return e.upvote(t._id)},className:\"bg-green-500 hover:bg-green-700 w-full text-white p-2 px-4 mt-1 rounded mr-4\"},\"Upvote \",t.upvote.length),N(\"button\",{onClick:function(){return e.downvote(t._id)},className:\"bg-red-500 hover:bg-red-700 text-white w-full rounded px-4 p-2 mt-1 \"},\"Downvote \",t.downvote.length))))}))):N(\"div\",{className:\"flex justify-center bg-green-300 p-4 m-4 text-2xl\"},\"NO ONE ANSWERED IT YET\")}},{key:\"toggleBox\",value:function(){this.setState({form:!this.state.form})}},{key:\"render\",value:function(){var e=this;return N(f.default,null,N(\"div\",{className:this.state.form?\"hidden\":\"block\"},N(\"div\",{className:\"flex overflow-hidden\"},N(\"div\",{className:this.state.loggedIn?\"block\":\"hidden\"},N(\"div\",{className:\"fixed top-10  left-3 md:relative md:w-1/6 p-6 -ml-6\"},N(\"div\",{onClick:function(){return e.toggleBox()},className:\"bg-blue-500 hover:bg-blue-700 w-full text-white font-bold p-1 px-4 -ml-3 md:py-2 md:px-4 rounded m-1 md:m-4\"},N(\"span\",{className:\"w-full\"},\" A\")))),N(\"div\",{className:\"block text-center  border-gray-600 w-screen w-full\"},N(\"center\",null,N(\"div\",{key:this.state.question._id,className:\"text-2l md:text-4xl bg-red-500 text-white p-8 my-4 mx-4 rounded hover:bg-red-600\"},N(\"b\",null,\"Q.\"),\"   \",this.state.question.question),N(\"div\",{className:\"text-2xl bg-green-500 p-8 text-white\"},\"Answers\",this.renderAnswer()))))),N(\"div\",{className:this.state.form?\"block\":\"hidden\"},N(\"center\",null,N(\"div\",{className:\"max-w-sm rounded overflow-hidden shadow-lg mt-10 border\"},N(\"div\",{className:\"px-4 py-6\"},N(\"div\",{className:\"font-bold text-xl mb-2\"},\"Write Your Answer Here\"),N(\"textarea\",{value:this.state.quesbox,onChange:this.handleChange,className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"username\",required:!0,placeholder:\"Enter Your question Here ...\",rows:\"6\"}),N(\"button\",{className:\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-4\",onClick:function(){return e.submitanswer()}},\"Submit Question\"))))))}}]),t}(p.Component);t.default=q},\"oh+g\":function(e,t,n){var s=n(\"WEpk\"),a=s.JSON||(s.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}}},[[\"1WlT\",0,1,2,3,4]]]);"}