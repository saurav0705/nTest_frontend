{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Social from '../signupAndLogin/social';\nimport Layout from '../Layout';\nimport { Component } from 'react';\nimport Router from 'next/router';\nimport ls from 'local-storage';\n\nclass SignUp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      name: '',\n      error: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.handledispchange = this.handledispchange.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      username: event.target.value\n    });\n  }\n\n  handlePasswordChange(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  handledispchange(event) {\n    this.setState({\n      name: event.target.value\n    });\n  }\n\n  componentDidMount() {\n    //console.log(.*)$\n    //console.log(.*)$\n    if (ls.get('loggedIn')) {\n      Router.push('/');\n    }\n  }\n\n  validateEmail(email) {\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; //console.log(re.test(email));\n\n    return re.test(email);\n  }\n\n  async signup() {\n    //console.log(.*)$\n    if (this.state.username.length > 0 && !this.validateEmail(this.state.username)) {\n      this.setState({\n        error: 'Email Invalid'\n      });\n      return;\n    }\n\n    if (this.state.username === '' || this.state.password === '' || this.state.name === '') {\n      this.setState({\n        error: \"Fields can't be Empty\"\n      });\n    } else {\n      const url = 'https://questionstack-266907.appspot.com//users/signup/'; //console.log(.*)$\n\n      try {\n        const response = await fetch(url, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            \"Access-Control-Allow-Origin\": '*'\n          },\n          body: JSON.stringify({\n            username: this.state.username,\n            password: this.state.password,\n            name: this.state.name\n          })\n        });\n\n        if (response.ok) {\n          //console.log(.*)$\n          Router.push('/signupAndLogin/login');\n        } else {\n          //console.log(response);\n          this.setState({\n            error: 'User Already exist'\n          });\n        }\n      } catch (error) {\n        this.setState({\n          error: 'Server Not Reachable'\n        });\n      }\n    }\n  }\n\n  render() {\n    return __jsx(React.Fragment, null, __jsx(Layout, null, __jsx(\"div\", {\n      className: \"flex justify-center\"\n    }, __jsx(\"div\", {\n      className: \"mt-40 m-10 pt-20 hidden md:block \"\n    }, __jsx(\"h1\", {\n      className: \"text-4xl\"\n    }, \"Join The Community\"), __jsx(\"div\", {\n      className: \"text-4l m-4\"\n    }, \"Ask A Queation\"), __jsx(\"div\", {\n      className: \"text-4l m-4\"\n    }, \"Answer A Queation\"), __jsx(\"div\", {\n      className: \"text-4l m-4\"\n    }, \"Help Out Others\")), __jsx(\"div\", null, __jsx(Social, null), __jsx(\"center\", null, __jsx(\"div\", {\n      className: \"mt-5 border w-full max-w-xs\"\n    }, __jsx(\"div\", {\n      className: \"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\"\n    }, __jsx(\"div\", {\n      className: \"mb-4\"\n    }, __jsx(\"label\", {\n      className: \"block text-gray-700 text-sm font-bold mb-2\",\n      htmlFor: \"username\"\n    }, \"Display Name\"), __jsx(\"input\", {\n      value: this.state.name,\n      onChange: this.handledispchange,\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n      id: \"name\",\n      type: \"text\",\n      placeholder: \"Name\",\n      required: true\n    })), __jsx(\"div\", {\n      className: \"mb-4\"\n    }, __jsx(\"label\", {\n      className: \"block text-gray-700 text-sm font-bold mb-2\",\n      htmlFor: \"email\"\n    }, \"Email\"), __jsx(\"input\", {\n      value: this.state.username,\n      onChange: this.handleChange,\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n      id: \"username\",\n      type: \"text\",\n      placeholder: \"Email\",\n      required: true\n    })), __jsx(\"div\", {\n      className: \"mb-6\"\n    }, __jsx(\"label\", {\n      className: \"block text-gray-700 text-sm font-bold mb-2\",\n      htmlFor: \"password\"\n    }, \"Password\"), __jsx(\"input\", {\n      value: this.state.password,\n      onChange: this.handlePasswordChange,\n      className: \"shadow appearance-none border  rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\",\n      id: \"password\",\n      type: \"password\",\n      placeholder: \"Password\",\n      required: true\n    })), __jsx(\"div\", {\n      className: \"flex items-center justify-between\"\n    }, __jsx(\"span\", {\n      className: \"text-red-500 p-1\"\n    }, this.state.error), __jsx(\"button\", {\n      onClick: () => this.signup(),\n      className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",\n      type: \"button\"\n    }, \"Sign Up\")))))))));\n  }\n\n}\n\nexport default SignUp;","map":null,"metadata":{},"sourceType":"module"}