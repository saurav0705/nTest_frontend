{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\ntest\\\\next_tailwind\\\\pages\\\\signupAndLogin\\\\login.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Social from '../signupAndLogin/social';\nimport Layout from '../Layout';\nimport { render } from 'react-dom';\nimport { Component } from 'react';\nimport fetch from 'isomorphic-fetch';\nimport Router from 'next/router';\n\nclass LogIn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      username: event.target.value\n    });\n  }\n\n  handlePasswordChange(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  async login() {\n    console.log(this.state.username + \"      \" + this.state.password);\n\n    if (this.state.username === '' || this.state.password === '') {\n      alert(\"invalid fields can't be empty\");\n    } else {\n      const url = 'https://questionstack-266907.appspot.com//users/login/';\n      console.log(JSON.stringify({\n        username: this.state.username,\n        password: this.state.password\n      }));\n\n      try {\n        const response = await fetch(url, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            \"Access-Control-Allow-Origin\": '*'\n          },\n          body: JSON.stringify({\n            username: this.state.username,\n            password: this.state.password\n          })\n        });\n\n        if (response.ok) {\n          const {\n            token\n          } = await response.json();\n          localStorage.setItem('loggedIn', 'true');\n          localStorage.setItem('token', token);\n          console.log(token);\n          console.log(response);\n          Router.push('/questionspage');\n        } else {\n          alert('Login failed.');\n        }\n      } catch (error) {\n        console.error('You have an error in your code or there are Network issues.', error);\n        throw new Error(error);\n      }\n    }\n  }\n\n  render() {\n    return __jsx(React.Fragment, null, __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, __jsx(Social, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), __jsx(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"mt-5 border w-full max-w-xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, __jsx(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"mb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, __jsx(\"label\", {\n      className: \"block text-gray-700 text-sm font-bold mb-2\",\n      for: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Email\"), __jsx(\"input\", {\n      value: this.state.username,\n      onChange: this.handleChange,\n      className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n      id: \"username\",\n      type: \"text\",\n      placeholder: \"Email\",\n      name: \"username\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"mb-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, __jsx(\"label\", {\n      className: \"block text-gray-700 text-sm font-bold mb-2\",\n      for: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Password\"), __jsx(\"input\", {\n      value: this.state.password,\n      onChange: this.handlePasswordChange,\n      className: \"shadow appearance-none border  rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\",\n      id: \"password\",\n      type: \"password\",\n      placeholder: \"Password\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"flex items-center justify-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, __jsx(\"button\", {\n      type: \"submit\",\n      onClick: () => {\n        this.login();\n      },\n      className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",\n      type: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Log In\"), __jsx(\"a\", {\n      className: \"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800\",\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Forgot Password?\")))))))));\n  }\n\n}\n\nexport default LogIn;","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/ntest/next_tailwind/pages/signupAndLogin/login.js"],"names":["Social","Layout","render","Component","fetch","Router","LogIn","constructor","props","state","username","password","handleChange","bind","handlePasswordChange","event","setState","target","value","login","console","log","alert","url","JSON","stringify","response","method","headers","body","ok","token","json","localStorage","setItem","push","error","Error"],"mappings":"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","sourcesContent":["import Social from '../signupAndLogin/social';\r\nimport Layout from '../Layout';\r\nimport { render } from 'react-dom';\r\nimport { Component } from 'react';\r\nimport fetch from 'isomorphic-fetch';\r\nimport  Router  from 'next/router';\r\n\r\n\r\n\r\nclass LogIn extends Component\r\n{\r\n  \r\n  constructor(props){\r\n    super(props);\r\n    this.state = { username: '', password: ''  }\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.handlePasswordChange = this.handlePasswordChange.bind(this)\r\n    \r\n  }\r\n  \r\n  \r\n\r\n  handleChange (event) {\r\n    this.setState({ username: event.target.value })\r\n  }\r\n  handlePasswordChange (event) {\r\n    this.setState({ password: event.target.value })\r\n  }\r\n  \r\n\r\n  async login()\r\n  {\r\n    console.log(this.state.username+\"      \"+this.state.password);\r\n    if(this.state.username === '' || this.state.password === '')\r\n    {alert(\"invalid fields can't be empty\")}\r\n    else{\r\n      const url = 'https://questionstack-266907.appspot.com//users/login/'\r\n      console.log(JSON.stringify({ username:this.state.username,password:this.state.password }));\r\n      try {\r\n        const response = await fetch(url, {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' ,\r\n          \"Access-Control-Allow-Origin\":'*'},\r\n          body: JSON.stringify({ username:this.state.username,password:this.state.password })\r\n        }\r\n        )\r\n        if (response.ok) {\r\n          const { token } = await response.json()\r\n          localStorage.setItem('loggedIn','true');\r\n          localStorage.setItem('token',token);\r\n          console.log(token);\r\n          console.log(response);\r\n          Router.push('/questionspage');\r\n        } else {\r\n          alert('Login failed.')\r\n          \r\n        }\r\n      } catch (error) {\r\n        console.error(\r\n          'You have an error in your code or there are Network issues.',\r\n          error\r\n        )\r\n        throw new Error(error)\r\n      }\r\n    }\r\n  }\r\n\r\n  render(){\r\n\r\n                return (<>\r\n                      <Layout>\r\n                        <div>\r\n                        <Social />\r\n                        <center>\r\n                        <div className=\"mt-5 border w-full max-w-xs\">\r\n                  <div className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\r\n                    <form>\r\n                    <div className=\"mb-4\">\r\n                      <label className=\"block text-gray-700 text-sm font-bold mb-2\" for=\"username\">\r\n                        Email\r\n                      </label>\r\n                      <input value={this.state.username} onChange={this.handleChange} className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" id=\"username\" type=\"text\" placeholder=\"Email\" name=\"username\" required/>\r\n                    </div>\r\n                    <div className=\"mb-6\">\r\n                      <label className=\"block text-gray-700 text-sm font-bold mb-2\" for=\"password\">\r\n                        Password\r\n                      </label>\r\n                      <input  value={this.state.password} onChange={this.handlePasswordChange} className=\"shadow appearance-none border  rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\" id=\"password\" type=\"password\" placeholder=\"Password\" required/>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <button type=\"submit\" onClick={()=>{this.login()}} className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" type=\"button\">\r\n                        Log In\r\n                        {/* {(this.state.loggedIn ? <></>:<div>failed</div>)} */}\r\n                      </button>\r\n                      <a className=\"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800\" href=\"#\">\r\n                        Forgot Password?\r\n                      </a>\r\n                    </div>\r\n                    </form>\r\n                  </div>\r\n                  \r\n                </div>\r\n                </center>\r\n                </div>\r\n                </Layout>\r\n                </>\r\n                );\r\n            };\r\n}\r\nexport default LogIn;"]},"metadata":{},"sourceType":"module"}