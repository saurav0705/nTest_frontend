{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from \"./Layout\";\nimport { urlOfImages } from '../public/icons/assets/images';\nimport { useEffect, Component } from \"react\";\nimport ls from 'local-storage';\nimport Router from \"next/router\";\nimport fetch from 'isomorphic-fetch';\n\nvar Personal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Personal, _Component);\n\n  function Personal(props) {\n    var _this;\n\n    _classCallCheck(this, Personal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Personal).call(this, props));\n    _this.state = {\n      user: {}\n    };\n    return _this;\n  }\n\n  _createClass(Personal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var url, response, data;\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!ls.get('loggedIn')) {\n                Router.push('/');\n              }\n\n              url = 'https://questionstack-266907.appspot.com/users/info';\n              _context.prev = 2;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(fetch(url, {\n                method: 'GET',\n                headers: {\n                  'Content-Type': 'application/json',\n                  \"Access-Control-Allow-Origin\": '*',\n                  'Authorization': 'bearer ' + ls.get('token')\n                }\n              }));\n\n            case 5:\n              response = _context.sent;\n\n              if (!response.ok) {\n                _context.next = 14;\n                break;\n              }\n\n              _context.next = 9;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 9:\n              data = _context.sent;\n              _context.next = 12;\n              return _regeneratorRuntime.awrap(this.setState({\n                user: data.user\n              }));\n\n            case 12:\n              _context.next = 15;\n              break;\n\n            case 14:\n              alert('unable to fetch');\n\n            case 15:\n              _context.next = 20;\n              break;\n\n            case 17:\n              _context.prev = 17;\n              _context.t0 = _context[\"catch\"](2);\n              console.error('You have an error in your code or there are Network issues.', _context.t0);\n\n            case 20:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, [[2, 17]]);\n    }\n  }, {\n    key: \"renderQuestions\",\n    value: function renderQuestions() {\n      if (!this.state.user.questions) {\n        return __jsx(React.Fragment, null);\n      } else {\n        if (this.state.user.questions.length === 0) {\n          return __jsx(\"p\", {\n            className: \"text-4l m-1 bg-red-600 p-3 rounded\"\n          }, \"Well you are Very Intelligent\");\n        }\n\n        return __jsx(React.Fragment, null, this.state.user.questions.map(function (ques) {\n          return __jsx(\"p\", {\n            key: ques._id,\n            className: \"text-4l m-1 bg-red-600 p-3 rounded\"\n          }, \"Q. \", ques.question);\n        }));\n      }\n    }\n  }, {\n    key: \"renderAnswers\",\n    value: function renderAnswers() {\n      if (!this.state.user.answers) {\n        return __jsx(React.Fragment, null);\n      } else {\n        if (this.state.user.answers.length === 0) {\n          return __jsx(\"p\", {\n            className: \"text-4l m-1 bg-green-600 p-3 rounded\"\n          }, \"Lets Start Helping Others\");\n        }\n\n        return __jsx(React.Fragment, null, this.state.user.answers.map(function (ans) {\n          return __jsx(\"p\", {\n            key: ans._id,\n            className: \"text-4l m-1 bg-green-600 p-3 rounded\"\n          }, \"A. \", ans.answer);\n        }));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(React.Fragment, null, __jsx(Layout, null, __jsx(\"div\", {\n        className: \"block md:flex justify-center p-4\"\n      }, __jsx(\"div\", {\n        className: \"p-4\"\n      }, __jsx(\"img\", {\n        src: urlOfImages.user,\n        className: \"h-auto rounded-full\",\n        alt: \"Profile Picture\"\n      }), __jsx(\"div\", {\n        className: \"flex justify-center mt-5\"\n      }, __jsx(\"div\", null, __jsx(\"img\", {\n        src: urlOfImages.copyright,\n        className: \"mx-2 mt-1 h-8\"\n      })), __jsx(\"div\", null, \" \", __jsx(\"img\", {\n        src: urlOfImages['stack-overflow'],\n        className: \"h-8\"\n      })), __jsx(\"div\", null, __jsx(\"p\", {\n        className: \"font-bold text-4l mb-2 mt-2\"\n      }, \"QuestionOverflow \")))), __jsx(\"div\", {\n        className: \"p-4\"\n      }, __jsx(\"div\", {\n        className: \"max-w-sm rounded border overflow-hidden shadow-lg\"\n      }, __jsx(\"div\", {\n        className: \"px-6 py-4\"\n      }, __jsx(\"div\", {\n        className: \"font-bold text-4xl mb-2\"\n      }, this.state.user.name), __jsx(\"div\", {\n        className: \" text-2xl mb-2\"\n      }, this.state.user.username), __jsx(\"p\", {\n        className: \"text-gray-700 text-base mt-5\"\n      }, \"Below Is the list of all the Question you asked and Answered. We very much Appreciate your contribution.\"), __jsx(\"div\", {\n        className: \"p-2 m-2 bg-red-400 text-white\"\n      }, __jsx(\"div\", {\n        className: \"font-bold text-xl mb-2\"\n      }, \"Questions Asked\"), this.renderQuestions()), __jsx(\"div\", {\n        className: \"p-2 m-2 bg-green-400 text-white\"\n      }, __jsx(\"div\", {\n        className: \"font-bold text-xl mb-2\"\n      }, \"Questions Answered\"), this.renderAnswers()), __jsx(\"p\", null))), __jsx(\"div\", {\n        className: \"flex justify-center m-4\"\n      }, __jsx(\"button\", {\n        className: \"bg-blue-500 w-full hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded\"\n      }, \"Edit\"))))));\n    }\n  }]);\n\n  return Personal;\n}(Component);\n\nexport default Personal;","map":null,"metadata":{},"sourceType":"module"}