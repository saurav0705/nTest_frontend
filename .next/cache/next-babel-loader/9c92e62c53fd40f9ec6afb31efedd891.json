{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Social from '../signupAndLogin/social';\nimport Layout from '../Layout';\nimport { Component } from 'react';\nimport Router from 'next/router';\nimport ls from 'local-storage';\n\nvar SignUp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignUp, _Component);\n\n  function SignUp(props) {\n    var _this;\n\n    _classCallCheck(this, SignUp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignUp).call(this, props));\n    _this.state = {\n      username: '',\n      password: '',\n      name: '',\n      error: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handlePasswordChange = _this.handlePasswordChange.bind(_assertThisInitialized(_this));\n    _this.handledispchange = _this.handledispchange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SignUp, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        username: event.target.value\n      });\n    }\n  }, {\n    key: \"handlePasswordChange\",\n    value: function handlePasswordChange(event) {\n      this.setState({\n        password: event.target.value\n      });\n    }\n  }, {\n    key: \"handledispchange\",\n    value: function handledispchange(event) {\n      this.setState({\n        name: event.target.value\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      //console.log(.*)$\n      //console.log(.*)$\n      if (ls.get('loggedIn')) {\n        Router.push('/');\n      }\n    }\n  }, {\n    key: \"validateEmail\",\n    value: function validateEmail(email) {\n      var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; //console.log(re.test(email));\n\n      return re.test(email);\n    }\n  }, {\n    key: \"signup\",\n    value: function signup() {\n      var url, response;\n      return _regeneratorRuntime.async(function signup$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(this.state.username.length > 0 && !this.validateEmail(this.state.username))) {\n                _context.next = 3;\n                break;\n              }\n\n              this.setState({\n                error: 'Email Invalid'\n              });\n              return _context.abrupt(\"return\");\n\n            case 3:\n              if (!(this.state.username === '' || this.state.password === '' || this.state.name === '')) {\n                _context.next = 7;\n                break;\n              }\n\n              this.setState({\n                error: \"Fields can't be Empty\"\n              });\n              _context.next = 18;\n              break;\n\n            case 7:\n              url = 'https://questionstack-266907.appspot.com//users/signup/'; //console.log(.*)$\n\n              _context.prev = 8;\n              _context.next = 11;\n              return _regeneratorRuntime.awrap(fetch(url, {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                  \"Access-Control-Allow-Origin\": '*'\n                },\n                body: _JSON$stringify({\n                  username: this.state.username,\n                  password: this.state.password,\n                  name: this.state.name\n                })\n              }));\n\n            case 11:\n              response = _context.sent;\n\n              if (response.ok) {\n                //console.log(.*)$\n                Router.push('/signupAndLogin/login');\n              } else {\n                //console.log(response);\n                this.setState({\n                  error: 'User Already exist'\n                });\n              }\n\n              _context.next = 18;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](8);\n              this.setState({\n                error: 'Server Not Reachable'\n              });\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, [[8, 15]]);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(React.Fragment, null, __jsx(Layout, null, __jsx(\"div\", {\n        className: \"flex justify-center\"\n      }, __jsx(\"div\", {\n        className: \"mt-40 m-10 pt-20 hidden md:block \"\n      }, __jsx(\"h1\", {\n        className: \"text-4xl\"\n      }, \"Join The Community\"), __jsx(\"div\", {\n        className: \"text-4l m-4\"\n      }, \"Ask A Queation\"), __jsx(\"div\", {\n        className: \"text-4l m-4\"\n      }, \"Answer A Queation\"), __jsx(\"div\", {\n        className: \"text-4l m-4\"\n      }, \"Help Out Others\")), __jsx(\"div\", null, __jsx(Social, null), __jsx(\"center\", null, __jsx(\"div\", {\n        className: \"mt-5 border w-full max-w-xs\"\n      }, __jsx(\"div\", {\n        className: \"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\"\n      }, __jsx(\"div\", {\n        className: \"mb-4\"\n      }, __jsx(\"label\", {\n        className: \"block text-gray-700 text-sm font-bold mb-2\",\n        htmlFor: \"username\"\n      }, \"Display Name\"), __jsx(\"input\", {\n        value: this.state.name,\n        onChange: this.handledispchange,\n        className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n        id: \"name\",\n        type: \"text\",\n        placeholder: \"Name\",\n        required: true\n      })), __jsx(\"div\", {\n        className: \"mb-4\"\n      }, __jsx(\"label\", {\n        className: \"block text-gray-700 text-sm font-bold mb-2\",\n        htmlFor: \"email\"\n      }, \"Email\"), __jsx(\"input\", {\n        value: this.state.username,\n        onChange: this.handleChange,\n        className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n        id: \"username\",\n        type: \"text\",\n        placeholder: \"Email\",\n        required: true\n      })), __jsx(\"div\", {\n        className: \"mb-6\"\n      }, __jsx(\"label\", {\n        className: \"block text-gray-700 text-sm font-bold mb-2\",\n        htmlFor: \"password\"\n      }, \"Password\"), __jsx(\"input\", {\n        value: this.state.password,\n        onChange: this.handlePasswordChange,\n        className: \"shadow appearance-none border  rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\",\n        id: \"password\",\n        type: \"password\",\n        placeholder: \"Password\",\n        required: true\n      })), __jsx(\"div\", {\n        className: \"flex items-center justify-between\"\n      }, __jsx(\"span\", {\n        className: \"text-red-500 p-1\"\n      }, this.state.error), __jsx(\"button\", {\n        onClick: function onClick() {\n          return _this2.signup();\n        },\n        className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",\n        type: \"button\"\n      }, \"Sign Up\")))))))));\n    }\n  }]);\n\n  return SignUp;\n}(Component);\n\nexport default SignUp;","map":null,"metadata":{},"sourceType":"module"}