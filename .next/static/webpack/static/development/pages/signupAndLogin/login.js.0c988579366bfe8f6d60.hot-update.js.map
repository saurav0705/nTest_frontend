{"version":3,"file":"static/webpack/static\\development\\pages\\signupAndLogin\\login.js.0c988579366bfe8f6d60.hot-update.js","sources":["webpack:///./pages/signupAndLogin/login.js"],"sourcesContent":["import Social from '../signupAndLogin/social';\r\nimport Layout from '../Layout';\r\nimport { render } from 'react-dom';\r\nimport { Component } from 'react';\r\nimport fetch from 'isomorphic-fetch';\r\nimport  Router  from 'next/router';\r\n\r\n\r\n\r\nclass LogIn extends Component\r\n{\r\n  \r\n  constructor(props){\r\n    super(props);\r\n    this.state = { username: '', password: ''  ,error:''}\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.handlePasswordChange = this.handlePasswordChange.bind(this)\r\n    \r\n  }\r\n  \r\n  \r\n\r\n  handleChange (event) {\r\n    this.setState({ username: event.target.value })\r\n  }\r\n  handlePasswordChange (event) {\r\n    this.setState({ password: event.target.value })\r\n  }\r\n  \r\n\r\n  async login()\r\n  {\r\n    //console.log(.*)$\r\n    if(this.state.username === '' || this.state.password === '')\r\n    {this.setState({\r\n      error : \"Fields can't be Empty\"\r\n        })\r\n      }\r\n    else{\r\n      const url = 'https://questionstack-266907.appspot.com//users/login/'\r\n      //console.log(.*)$\r\n      try {\r\n        const response = await fetch(url, {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' ,\r\n          \"Access-Control-Allow-Origin\":'*'},\r\n          body: JSON.stringify({ username:this.state.username,password:this.state.password })\r\n        }\r\n        )\r\n        if (response.ok) {\r\n          const { token } = await response.json()\r\n          localStorage.setItem('loggedIn','true');\r\n          localStorage.setItem('token',token);\r\n          //console.log(.*)$\r\n          //console.log(.*)$\r\n          Router.push('/questionspage');\r\n        } else {\r\n          this.setState({\r\n            error : \"Invalid Credentials\"\r\n              })\r\n          \r\n        }\r\n      } catch (error) {\r\n        this.setState({\r\n          error : \"Server not Reachable\"\r\n            })\r\n      }\r\n    }\r\n  }\r\n\r\n  render(){\r\n\r\n                return (<>\r\n                      <Layout>\r\n                        <div>\r\n                        <Social />\r\n                        <center>\r\n                        <div className=\"mt-5 border w-full max-w-xs\">\r\n                  <div className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\r\n                    <form>\r\n                    <div className=\"mb-4\">\r\n                      <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"username\">\r\n                        Email\r\n                      </label>\r\n                      <input value={this.state.username} onChange={this.handleChange} className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" id=\"username\" type=\"text\" placeholder=\"Email\" name=\"username\" required/>\r\n                    </div>\r\n                    <div className=\"mb-6\">\r\n                      <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"password\">\r\n                        Password\r\n                      </label>\r\n                      <input  value={this.state.password} onChange={this.handlePasswordChange} className=\"shadow appearance-none border  rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\" id=\"password\" type=\"password\" placeholder=\"Password\" required/>\r\n                    </div>\r\n                    <span className=\"text-red-500 p-2 mb-6\">{this.state.error}</span>\r\n                    \r\n                    <div className=\"flex items-center justify-between\">\r\n                      <button type=\"submit\" onClick={()=>{this.login()}} className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" type=\"button\">\r\n                        Log In\r\n                        {/* {(this.state.loggedIn ? <></>:<div>failed</div>)} */}\r\n                      </button>\r\n                      <a className=\"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800\" href=\"#\">\r\n                        Forgot Password?\r\n                      </a>\r\n                    </div>\r\n                    </form>\r\n                  </div>\r\n                  \r\n                </div>\r\n                </center>\r\n                </div>\r\n                </Layout>\r\n                </>\r\n                );\r\n            };\r\n}\r\nexport default LogIn;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;;;;AAGA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAJA;AAMA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;;;AACA;AACA;AAAA;AAAA;AACA;;;;;;;;;;AAMA;;;;;AACA;AACA;AADA;;;;;AAKA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AADA;AAEA;AAAA;AAAA;AAAA;AAJA;AACA;;AADA;AACA;AAMA;;;;;;AACA;AACA;;;AADA;AACA;AACA;AAEA;AACA;AAAA;;;;;AAEA;AACA;AADA;AACA;;;;;;;;AAKA;AACA;AADA;AACA;;;;;;;;;;AAMA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;;;;AAvGA;AACA;AAwGA;;;;A","sourceRoot":""}